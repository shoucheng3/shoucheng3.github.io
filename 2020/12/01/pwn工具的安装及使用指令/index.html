

<!DOCTYPE html>
<html lang="en" color-mode=light>
<head>
  <meta http-equiv="Content-Type" content="text/html; charset=UTF-8">
  <meta name="viewport" content="width=device-width, initial-scale=1, maximum-scale=1, user-scalable=no">
  <meta http-equiv="X-UA-Compatible" content="ie=edge">
  <title>pwn工具的安装及使用指令 - ShouCheng</title>
  <meta name="apple-mobile-web-app-capable" content="yes" />
  <meta name="apple-mobile-web-app-status-bar-style" content="black-translucent">
  <meta name="google" content="notranslate" />
  
  <meta name="description" content="pwntools1234git clone https...">
  <meta name="author" content="ShouCheng">
  <link rel="icon" href="/images/icons/favicon-16x16.png" type="image/png" sizes="16x16">
  <link rel="icon" href="/images/icons/favicon-32x32.png" type="image/png" sizes="32x32">
  <link rel="apple-touch-icon" href="/images/icons/apple-touch-icon.png" sizes="180x180">
  <meta rel="mask-icon" href="/images/icons/stun-logo.svg" color="#333333">
  
    <meta rel="msapplication-TileImage" content="/images/icons/favicon-144x144.png">
    <meta rel="msapplication-TileColor" content="#000000">
  

  
<link rel="stylesheet" href="/css/style.css">


  
    
<link rel="stylesheet" href="//at.alicdn.com/t/font_1445822_r673sha78lq.css">

  

  
    
<link rel="stylesheet" href="https://cdnjs.cloudflare.com/ajax/libs/fancybox/3.5.7/jquery.fancybox.min.css">

  

  
    
      
        
        
<link rel="stylesheet" href="https://cdn.bootcss.com/highlight.js/9.18.1/styles/xcode.min.css" name="highlight-style" mode="light">

      
        
        
<link rel="stylesheet" href="https://cdn.bootcss.com/highlight.js/9.18.1/styles/solarized-dark.min.css" name="highlight-style" mode="dark">

      
  

  <script>
    var CONFIG = window.CONFIG || {};
    var ZHAOO = window.ZHAOO || {};
    CONFIG = {
      isHome: false,
      fancybox: true,
      pjax: false,
      lazyload: {
        enable: true,
        only_post: 'false',
        loading: '[object Object]'
      },
      donate: {
        enable: false,
        alipay: '',
        wechat: ''
      },
      galleries: {
        enable: true
      },
      fab: {
        enable: true,
        always_show: false
      },
      carrier: {
        enable: true
      },
      daovoice: {
        enable: true
      },
      preview: {
        background: {
          default: '',
          api: ''
        },
        motto: {
          default: '总之岁月漫长，然而值得等待！',
          typing: true,
          api: 'https://v2.jinrishici.com/one.json',
          data_contents: '["data","content"]'
        },
      },
      qrcode: {
        enable: true,
        type: 'url',
        image: '',
      },
      toc: {
        enable: true
      },
      scrollbar: {
        type: 'default'
      },
      notification: {
        enable: true,
        delay: 4500,
        list: '',
        page_white_list: '',
        page_black_list: ''
      },
      search: {
        enable: true,
        path: '/search.xml'
      }
    }
  </script>

  

  

<meta name="generator" content="Hexo 5.4.0"><link rel="alternate" href="/atom.xml" title="ShouCheng" type="application/atom+xml">
</head>

<body class="lock-screen">
  <div class="loading"></div>
  
    


  <nav class="navbar">
    <div class="left">
      
        <i class="iconfont iconhome j-navbar-back-home"></i>
      
      
        <i class="iconfont iconqrcode j-navbar-qrcode"></i>
      
      
        <i class="iconfont iconmoono" id="color-toggle" color-toggle="light"></i>
      
      
        <i class="iconfont iconsearch j-navbar-search"></i>
      
    </div>
    <div class="center">pwn工具的安装及使用指令</div>
    <div class="right">
      <i class="iconfont iconmenu j-navbar-menu"></i>
    </div>
    
      <div id="qrcode-navbar"></div>
    
  </nav>

  
  

<nav class="menu">
  <div class="menu-container">
    <div class="menu-close">
      <i class="iconfont iconbaseline-close-px"></i>
    </div>
    <ul class="menu-content"><li class="menu-item">
        <a href="/ " class="underline "> 首页</a>
      </li><li class="menu-item">
        <a href="/galleries/ " class="underline "> 摄影</a>
      </li><li class="menu-item">
        <a href="/archives/ " class="underline "> 归档</a>
      </li><li class="menu-item">
        <a href="/tags/ " class="underline "> 标签</a>
      </li><li class="menu-item">
        <a href="/categories/ " class="underline "> 分类</a>
      </li><li class="menu-item">
        <a href="/about/ " class="underline "> 关于</a>
      </li></ul>
    
      <div class="menu-copyright"><p>Powered by <a target="_blank" href="https://hexo.io">Hexo</a>  |  Theme - <a target="_blank" href="https://github.com/izhaoo/hexo-theme-zhaoo">zhaoo</a></p></div>
    
  </div>
</nav>
  <main id="main">
  <div class="article-wrap">
    <div class="row container">
      <div class="col-xl-3"></div>
      <div class="col-xl-6"><article class="article">
  <div class="wrap">
    <section class="head">
  <img   class="lazyload" data-original="/images/theme/post-image.jpg" src="data:image/gif;base64,iVBORw0KGgoAAAANSUhEUgAAAAEAAAABCAYAAAAfFcSJAAAADUlEQVQImWNgYGBgAAAABQABh6FO1AAAAABJRU5ErkJggg=="  draggable="false">
  <div class="head-mask">
    <h1 class="head-title">pwn工具的安装及使用指令</h1>
    <div class="head-info">
      <span class="post-info-item"><i class="iconfont iconcalendar"></i>December 01, 2020</span>
      
      <span class="post-info-item"><i class="iconfont iconfont-size"></i>16041</span>
    </div>
  </div>
</section>
    <section class="main">
      <section class="content">
        <h2 id="pwntools"><a href="#pwntools" class="headerlink" title="pwntools"></a>pwntools</h2><figure class="highlight sh"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br></pre></td><td class="code"><pre><code class="hljs sh">git <span class="hljs-built_in">clone</span> https://github.com/Gallopsled/pwntools.git<br>sudo apt-get install python3 python3-pip python3-dev git libssl-dev libffi-dev build-essential<br>python3 -m pip install --upgrade pip<br>python3 -m pip install --upgrade pwntools<br></code></pre></td></tr></table></figure>

<h2 id="LibcSearcher"><a href="#LibcSearcher" class="headerlink" title="LibcSearcher"></a>LibcSearcher</h2><p>1、安装</p>
<figure class="highlight sh"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br></pre></td><td class="code"><pre><code class="hljs sh">git <span class="hljs-built_in">clone</span> https://github.com/lieanu/LibcSearcher.git<br><span class="hljs-built_in">cd</span> LibcSearcher<br>sudo python3 setup.py develop<br></code></pre></td></tr></table></figure>

<p>2、错误：</p>
<p><img   class="lazyload" data-original="/2020/12/01/pwn%E5%B7%A5%E5%85%B7%E7%9A%84%E5%AE%89%E8%A3%85%E5%8F%8A%E4%BD%BF%E7%94%A8%E6%8C%87%E4%BB%A4/2020101521162965.png" src="data:image/gif;base64,iVBORw0KGgoAAAANSUhEUgAAAAEAAAABCAYAAAAfFcSJAAAADUlEQVQImWNgYGBgAAAABQABh6FO1AAAAABJRU5ErkJggg==" ></p>
<p>处理办法：</p>
<p><img   class="lazyload" data-original="/2020/12/01/pwn%E5%B7%A5%E5%85%B7%E7%9A%84%E5%AE%89%E8%A3%85%E5%8F%8A%E4%BD%BF%E7%94%A8%E6%8C%87%E4%BB%A4/20201015211718534.png" src="data:image/gif;base64,iVBORw0KGgoAAAANSUhEUgAAAAEAAAABCAYAAAAfFcSJAAAADUlEQVQImWNgYGBgAAAABQABh6FO1AAAAABJRU5ErkJggg==" ></p>
<p>3、常见用法（脚本中使用）</p>
<figure class="highlight gradle"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br></pre></td><td class="code"><pre><code class="hljs gradle"><span class="hljs-keyword">from</span> LibcSearcher <span class="hljs-keyword">import</span> *<br>libc=LibcSearcher(<span class="hljs-string">&#x27;puts&#x27;</span>,puts_addr（指的是got表地址）)<br>libc_base=puts_addr-libc.<span class="hljs-keyword">dump</span>(<span class="hljs-string">&#x27;puts&#x27;</span>)<br>system_addr=libc_base+libc.<span class="hljs-keyword">dump</span>(<span class="hljs-string">&#x27;system&#x27;</span>)<br>binsh_addr=libc_base+libc.<span class="hljs-keyword">dump</span>(<span class="hljs-string">&#x27;str_bin_sh&#x27;</span>)<br></code></pre></td></tr></table></figure>

<p>以上内容转载<a target="_blank" rel="noopener" href="https://blog.csdn.net/yongbaoii/article/details/109105721">LibcSearcher 安装 错误处理 与使用</a></p>
<h2 id="ROPgadget"><a href="#ROPgadget" class="headerlink" title="ROPgadget"></a>ROPgadget</h2><p>一般用在64位下，因为64位的函数传参与32位有些不同，需使用到寄存器传参，常用命令格式：</p>
<figure class="highlight dsconfig"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br></pre></td><td class="code"><pre><code class="hljs dsconfig"><span class="hljs-string">ROPgadget</span> <span class="hljs-built_in">--binary</span> 文件名 <span class="hljs-built_in">--only</span> <span class="hljs-string">&#x27;pop|ret&#x27;</span>  或者 <span class="hljs-string">ROPgadget</span> <span class="hljs-built_in">--binary</span> 文件名 <span class="hljs-built_in">--only</span> <span class="hljs-string">&#x27;pop|ret&#x27;</span>| <span class="hljs-string">grep</span> <span class="hljs-string">&#x27;eax&#x27;</span> <br><span class="hljs-string">ROPgadget</span> <span class="hljs-built_in">--binary</span> 文件名 <span class="hljs-built_in">--only</span> <span class="hljs-string">&#x27;leave|ret&#x27;</span><br><span class="hljs-string">ROPgadget</span> <span class="hljs-built_in">--binary</span> 文件名 <span class="hljs-built_in">--only</span> <span class="hljs-string">&#x27;call|rax&#x27;</span><br><span class="hljs-string">ROPgadget</span> <span class="hljs-built_in">--binary</span> 文件名 <span class="hljs-built_in">--string</span> <span class="hljs-string">&#x27;sh&#x27;</span>（有的时候是找<span class="hljs-string">sh</span>，这个也可以成为参数）<br><span class="hljs-string">ROPgadget</span> <span class="hljs-built_in">--binary</span> 文件名 <span class="hljs-built_in">--string</span> <span class="hljs-string">&#x27;/bin/sh&#x27;</span><br><span class="hljs-string">ROPgadget</span> <span class="hljs-built_in">--binary</span> 文件名 <span class="hljs-built_in">--only</span> <span class="hljs-string">&#x27;int&#x27;</span>  （寻找<span class="hljs-string">int</span> <span class="hljs-string">80H</span>系统中断指令）<br></code></pre></td></tr></table></figure>

<p>文件也可以是libc</p>
<p>附：</p>
<p>搭配使用 one_gadget</p>
<p>安装：</p>
<figure class="highlight plaintext"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br></pre></td><td class="code"><pre><code class="hljs linux">sudo apt install -y ruby ruby-dev<br>sudo gem install one_gadget<br></code></pre></td></tr></table></figure>

<p>one_gadget 是用来去查找动态链接库里execve(“/bin/sh”, rsp+0x70, environ)函数的地址的</p>
<p>使用方法：</p>
<p><img   class="lazyload" data-original="/2020/12/01/pwn%E5%B7%A5%E5%85%B7%E7%9A%84%E5%AE%89%E8%A3%85%E5%8F%8A%E4%BD%BF%E7%94%A8%E6%8C%87%E4%BB%A4/2020101517362410.png" src="data:image/gif;base64,iVBORw0KGgoAAAANSUhEUgAAAAEAAAABCAYAAAAfFcSJAAAADUlEQVQImWNgYGBgAAAABQABh6FO1AAAAABJRU5ErkJggg==" ></p>
<p>但是这样只会给出常见的容易满足的one_gadget，通过下面指令可以查询到一些比较难满足的one_gadget</p>
<figure class="highlight ada"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br></pre></td><td class="code"><pre><code class="hljs ada">one_gadget libc-<span class="hljs-number">2.27</span>.so <span class="hljs-comment">--l 2</span><br>或者 one_gadget libc-<span class="hljs-number">2.27</span>.so <span class="hljs-comment">--level 2</span><br></code></pre></td></tr></table></figure>

<p>来源： <a target="_blank" rel="noopener" href="https://blog.csdn.net/yongbaoii/article/details/109101822">https://blog.csdn.net/yongbaoii/article/details/109101822</a> </p>
<h2 id="gdb"><a href="#gdb" class="headerlink" title="gdb"></a>gdb</h2><h3 id="安装"><a href="#安装" class="headerlink" title="安装"></a>安装</h3><p>先装，因为这个带有 parseheap、以及 heapinfo 等指令，有的场景下更好用</p>
<figure class="highlight shell"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br></pre></td><td class="code"><pre><code class="hljs shell">git clone https://github.com/scwuaptx/Pwngdb.git <br>cp ./Pwngdb/.gdbinit ~/<br></code></pre></td></tr></table></figure>

<p>pwndbg：pwndbg (/poʊnddb æg/)是一个GDB插件，使GDB的调试不那么糟糕，重点关注低级软件开发人员、硬件黑客、逆向工程师和开发人员需要的特性</p>
<p>peda：GDB的Python开发协助</p>
<p>gef：GEF(发音为ʤɛf -“Jeff”)是一组用于x86/64、ARM、MIPS、PowerPC和SPARC的命令，用于在使用老式GDB时帮助开发人员和反向工程师</p>
<p>把这三个都先下载下来：</p>
<figure class="highlight shell"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br></pre></td><td class="code"><pre><code class="hljs shell">git clone https://github.com/longld/peda.git<br>git clone https://github.com/pwndbg/pwndbg.git<br>git clone https://github.com/hugsy/gef.git<br></code></pre></td></tr></table></figure>

<p>pwndbg安装：</p>
<figure class="highlight sh"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br></pre></td><td class="code"><pre><code class="hljs sh"><span class="hljs-built_in">cd</span> /pwndbg<br>./setup.sh<br></code></pre></td></tr></table></figure>

<p>安装插件依赖：</p>
<figure class="highlight sh"><table><tr><td class="gutter"><pre><span class="line">1</span><br></pre></td><td class="code"><pre><code class="hljs sh">sudo pip install keystone-engine ropper keystone-engine<br></code></pre></td></tr></table></figure>

<p>更换gdb指令，在gef、pwndbg、peda中选择，选哪个就把其他都注释掉</p>
<figure class="highlight shell"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br></pre></td><td class="code"><pre><code class="hljs shell">sudo vim ~/.gdbinit<br><span class="hljs-meta">#</span><span class="bash"><span class="hljs-comment"># vim后在文件内输入下方横线中内容，选择三个插件其中一个，另外两个注释掉，保存退出</span></span><br>-------------------------------------------------------------------------<br>source /home/hollk/tools/pwndbg/gdbinit.py <br><span class="hljs-meta">#</span><span class="bash"><span class="hljs-built_in">source</span> /home/hollk/tools/peda/peda.py</span><br><span class="hljs-meta">#</span><span class="bash"><span class="hljs-built_in">source</span> /home/hollk/tools/gef-dev/gef.py</span><br>-------------------------------------------------------------------------<br></code></pre></td></tr></table></figure>

<h3 id="1-用途"><a href="#1-用途" class="headerlink" title="1. 用途"></a>1. 用途</h3><p>启动你的程序，可以按照你的自定义的要求随心所欲的运行程序</p>
<p>可让被调试的程序在你所指定的调置的断点处停住。（断点可以是条件表达式）</p>
<p>当程序被停住时，可以检查此时你的程序中所发生的事。</p>
<p>动态的改变你程序的执行环境</p>
<p>使用前要：</p>
<figure class="highlight shell"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br></pre></td><td class="code"><pre><code class="hljs shell">gcc -g test.c -o test<br>//gcc中-g选项是为了获得有关调试信息，要用gdb进行调试，必须使用-g生成二进制可执行文件<br>//补充 使用指定的glibc与ld编译程序<br>gcc test.c -o test -Wl,--rpath=/usr/local/lib -Wl,--dynamic-linker=/path/to/glibc-build/elf/ld-linux-x86-64.so.2<br></code></pre></td></tr></table></figure>



<h3 id="2-常用指令："><a href="#2-常用指令：" class="headerlink" title="2. 常用指令："></a>2. 常用指令：</h3><ul>
<li><p>checksec 查看elf编译的保护选项</p>
</li>
<li><p>aslr 查看gdb的aslr设置 aslr on 可开启alsr设置</p>
</li>
<li><p>file 文件名 加载objfile </p>
</li>
<li><p>disas addr 对地址addr处的指令进行反汇编，addr可以是函数名（但是不加* 使用函数名就无法用于参数确认；不加*，断点就不会设置到汇编语言层级的函数开头）</p>
</li>
<li><p>b *addr 在addr处下一个断点   b后跟函数名就不用 *</p>
</li>
<li><p>rwatch *addr 在addr处下一个硬件断点   </p>
</li>
<li><p>enable 激活断点</p>
</li>
<li><p>disable 禁用断点</p>
</li>
<li><p>info b 查看断点</p>
</li>
<li><p>del num 删除断点</p>
</li>
<li><p>x addr 查看addr处存储的数据值 </p>
</li>
<li><p>x/wx $esp 　　以4字节16进制显示栈中内容</p>
</li>
<li><p>stack 100　　 插件提供，显示栈中100项</p>
</li>
<li><p>find xxx　　 快速查找，很实用</p>
</li>
<li><p>r 运行被调试的程序 </p>
</li>
<li><p>c 继续运行 </p>
</li>
<li><p>ni 单步执行不进入函数调用</p>
</li>
<li><p>si 单步执行并进入函数调用</p>
</li>
<li><p>elfsymbol – 获取non-debugging symbol信息（plt表）</p>
</li>
<li><p>parseheap 可以对heap进行分析，得到相关信息</p>
</li>
<li><p>dumprop –在给定内存范围中Dump出所有ROP gadgets </p>
</li>
<li><p>vmmap 得到虚拟映射地址，同时可查看执行权限</p>
</li>
<li><p>heapinfo 查看bin链信息</p>
</li>
<li><p>heapbase 查看堆地址</p>
</li>
<li><p>finish 执行到函数返回</p>
</li>
<li><p>arena 查看 mainarena</p>
</li>
<li><p>telescope 地址    可以查看一小段该地址的内容</p>
</li>
<li><p>dumpargs– 函数将要被调用时，显示将要被传入函数的所有参数</p>
</li>
<li><p>readelf – 获取elf头信息 </p>
</li>
<li><p>x/&lt;n/f/u&gt;其中n、f、u是可选的参数</p>
<p>x/s 地址　　查看字符串</p>
<p>x/wx 地址　　查看DWORD</p>
<p>x/c 地址　　单字节查看</p>
<p>x/16x $esp+0x12 查看寄存器偏移（16代表查看16个）</p>
</li>
</ul>
<ul>
<li>set args 可指定程序运行时参数。（如：set args 10 20 30 40 50）</li>
<li>set $rdi=0x10 把rdi寄存器的值变为0x10</li>
<li>set <em>(0x123456)=0x10  0x123456地址的值变为0x10，*<em>注意带星号</em></em></li>
<li>show args 命令可以查看设置好的运行参数。</li>
<li>break fun if $rdi==5 条件断点，rdi值为5的时候才断</li>
</ul>
<p>参数意义：</p>
<p>s 按字符串输出</p>
<p>x 按十六进制格式显示变量。</p>
<p>d 按十进制格式显示变量。</p>
<p>u 按十六进制格式显示无符号整型。</p>
<p>o 按八进制格式显示变量。</p>
<p>t 按二进制格式显示变量。</p>
<p>a 按十六进制格式显示变量。</p>
<p>c 按字符格式显示变量。</p>
<p>f 按浮点数格式显示变量。</p>
<h3 id="基本"><a href="#基本" class="headerlink" title="基本"></a>基本</h3><ul>
<li><p>si 步入，可以进入查看具体的函数调用。</p>
</li>
<li><p>n 执行下一条语句（C代码中的一句语句），ni 步入，这个执行的是下一条汇编指令</p>
</li>
<li><p>b 在某处下断点，可以用</p>
</li>
<li><ul>
<li>b * adrress</li>
<li>b function_name</li>
<li>info b 查看断点信息</li>
<li>delete 1 删除第一个断点</li>
</ul>
</li>
<li><p>c 继续</p>
</li>
<li><p>r 执行</p>
</li>
<li><p><strong>disas addr 查看addr处前后的反汇编代码</strong></p>
</li>
<li><p>readelf 文件信息</p>
</li>
</ul>
<p>一般c,n,ni后面都可以跟数字，</p>
<p>ni 10</p>
<p>就代表下10行指令</p>
<h3 id="显示数据"><a href="#显示数据" class="headerlink" title="显示数据"></a>显示数据</h3><h4 id="p"><a href="#p" class="headerlink" title="p"></a>p</h4><ul>
<li>p function 显示某个函数地址</li>
<li>p $esp 某个寄存器的值</li>
<li><strong>p 0xdd-0x55 可以当计算器</strong></li>
<li><strong>p &amp;VarName 查看变量地址</strong></li>
<li>p * 0xffffebac 查看某个地址处的值</li>
</ul>
<h4 id="x"><a href="#x" class="headerlink" title="x"></a>x</h4><ul>
<li>x/10wx addr 显示某个地址处开始的16进制内容，如果有符号表会加载符号表</li>
<li>x/40gx addr 跟上面一样，一般上面32位用，这个64位</li>
<li>x/10s addr 查看addr开始的10个字符串</li>
<li>x/x $esp 查看esp寄存器中的值</li>
<li>x/b addr 查看addr处的字符</li>
<li><strong>x/10i addr 查看addr处的反汇编结果（addr可以为函数）（常用）</strong></li>
</ul>
<h4 id="info-i"><a href="#info-i" class="headerlink" title="info(i)"></a>info(i)</h4><ul>
<li><strong>info register $ebp 查看寄存器ebp中的内容 (简写为 i r ebp)</strong></li>
<li>i r eflags 查看状态寄存器</li>
<li>i r  查看所有寄存器</li>
<li>i b 查看断点信息</li>
<li>i functions 查看所有的函数</li>
</ul>
<h4 id="查找数据"><a href="#查找数据" class="headerlink" title="查找数据"></a>查找数据</h4><ul>
<li>search mem 查找字符串 peda带有</li>
</ul>
<h2 id="pwntools-1"><a href="#pwntools-1" class="headerlink" title="pwntools"></a>pwntools</h2><h3 id="1-context设置"><a href="#1-context设置" class="headerlink" title="1. context设置"></a>1. context设置</h3><p><code>context</code>是pwntools用来设置环境的功能。在很多时候，由于二进制文件的情况不同，我们可能需要进行一些环境设置才能够正常运行exp，比如有一些需要进行汇编，但是32的汇编和64的汇编不同，如果不设置context会导致一些问题。</p>
<p>一般来说我们设置context只需要简单的一句话:</p>
<figure class="highlight routeros"><table><tr><td class="gutter"><pre><span class="line">1</span><br></pre></td><td class="code"><pre><code class="hljs routeros">context(<span class="hljs-attribute">os</span>=<span class="hljs-string">&#x27;linux&#x27;</span>, <span class="hljs-attribute">arch</span>=<span class="hljs-string">&#x27;amd64&#x27;</span>, <span class="hljs-attribute">log_level</span>=<span class="hljs-string">&#x27;debug&#x27;</span>)<br></code></pre></td></tr></table></figure>

<p>这句话的意思是： </p>
<ol>
<li>os（operating system 操作系统）设置系统为linux系统，在完成ctf题目的时候，大多数pwn题目的系统都是linux </li>
<li>arch设置架构为amd64，可以简单的认为设置为64位的模式，对应的32位模式是’i386’ </li>
<li>log_level设置日志输出的等级为debug，这句话在调试的时候一般会设置，这样pwntools会将完整的io过程都打印下来，使得调试更加方便，可以避免在完成CTF题目时出现一些和IO相关的错误。</li>
</ol>
<h3 id="2-Cyclic-Pattern"><a href="#2-Cyclic-Pattern" class="headerlink" title="2. Cyclic Pattern"></a>2. Cyclic Pattern</h3><p>Cyclic pattern是一个很强大的功能，大概意思就是，使用pwntools生成一个pattern，pattern就是指一个字符串，可以通过其中的一部分数据去定位到他在一个字符串中的位置。</p>
<p>在我们完成栈溢出题目的时候，使用pattern可以大大的减少计算溢出点的时间。 </p>
<figure class="highlight 1c"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br></pre></td><td class="code"><pre><code class="hljs 1c">用法：<br>cyclic(<span class="hljs-number">0</span>x100) <span class="hljs-meta"># 生成一个0x100大小的pattern，即一个特殊的字符串</span><br>cyclic_find(<span class="hljs-number">0</span>x61616161) <span class="hljs-meta"># 找到该数据在pattern中的位置</span><br>cyclic_find(&#x27;aaaa&#x27;) <span class="hljs-meta"># 查找位置也可以使用字符串去定位</span><br></code></pre></td></tr></table></figure>

<p>比如，我们在栈溢出的时候，首先构造<code>cyclic(0x100)</code>，或者更长长度的pattern，进行输入，输入后pc的值变为了0x61616161，那么我们通过<code>cyclic_find(0x61616161)</code>就可以得到从哪一个字节开始会控制PC寄存器了，避免了很多没必要的计算。</p>
<p>可以直接在shell中使用cyclic 100</p>
<p>然后查找溢出点 使用 cyclic -l 0x61616161</p>
<p>来源：<a target="_blank" rel="noopener" href="https://blog.csdn.net/qq_29343201/article/details/51337025">https://blog.csdn.net/qq_29343201/article/details/51337025</a></p>
<p><strong>转载自：<a target="_blank" rel="noopener" href="https://blog.csdn.net/qq_41560595/article/details/114597342">https://blog.csdn.net/qq_41560595/article/details/114597342</a></strong></p>
<h2 id="patchelf-amp-amp-glibc-all-in-one"><a href="#patchelf-amp-amp-glibc-all-in-one" class="headerlink" title="patchelf &amp;&amp; glibc-all-in-one"></a>patchelf &amp;&amp; glibc-all-in-one</h2><p><strong>patchelf</strong></p>
<figure class="highlight shell"><table><tr><td class="gutter"><pre><span class="line">1</span><br></pre></td><td class="code"><pre><code class="hljs shell">git clone https://github.com/NixOS/patchelf<br></code></pre></td></tr></table></figure>

<p><strong>glibc-all-in-one</strong></p>
<figure class="highlight sh"><table><tr><td class="gutter"><pre><span class="line">1</span><br></pre></td><td class="code"><pre><code class="hljs sh">git <span class="hljs-built_in">clone</span> https://github.com/matrix1001/glibc-all-in-one<br></code></pre></td></tr></table></figure>

<h3 id="1-安装glibc-all-in-one"><a href="#1-安装glibc-all-in-one" class="headerlink" title="1. 安装glibc-all-in-one"></a>1. 安装glibc-all-in-one</h3><figure class="highlight shell"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br></pre></td><td class="code"><pre><code class="hljs shell"><span class="hljs-meta">$</span><span class="bash"> python3 update_list             <span class="hljs-comment">#更新最新版本的glibc</span></span><br><span class="hljs-meta">$</span><span class="bash"> cat list                 <span class="hljs-comment">#查看可下载的glibc</span></span><br><span class="hljs-meta">$</span><span class="bash"> ./download 2.23-0ubuntu11.2_amd64        <span class="hljs-comment">#glibc为你想要下载glibc的名字</span></span><br></code></pre></td></tr></table></figure>

<h3 id="2-安装patchelf"><a href="#2-安装patchelf" class="headerlink" title="2. 安装patchelf"></a>2. 安装patchelf</h3><figure class="highlight shell"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br></pre></td><td class="code"><pre><code class="hljs shell">./bootstrap.sh<br>./configure<br>make<br>sudo make install<br>make check<br></code></pre></td></tr></table></figure>

<p>可能会遇到 <code>autoreconf: not found</code></p>
<p>安装一下就好</p>
<figure class="highlight shell"><table><tr><td class="gutter"><pre><span class="line">1</span><br></pre></td><td class="code"><pre><code class="hljs shell">sudo apt-get install autoconf automake libtool<br></code></pre></td></tr></table></figure>

<h3 id="3-生成所需的符号链接"><a href="#3-生成所需的符号链接" class="headerlink" title="3.生成所需的符号链接"></a>3.生成所需的符号链接</h3><figure class="highlight shell"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br></pre></td><td class="code"><pre><code class="hljs shell"><span class="hljs-meta">$</span><span class="bash"><span class="hljs-built_in">cd</span> /libs  <span class="hljs-comment">#进入libs的目录</span></span>  <br><span class="hljs-meta">$</span><span class="bash"> sudo su    <span class="hljs-comment">#进入root态</span></span><br><span class="hljs-meta">$</span><span class="bash"> ln -s /home/pwn/桌面/tools/glibc-all-in_one/libs/2.23-0ubuntu11.2_amd64/ld-2.23.so ./23_11-linux.so.2</span><br><span class="hljs-meta">#</span><span class="bash">./23_11-linux.so.2是自己起的名。23代表glibc版本,11代表ubuntu后面的数字(单纯为了好记)</span><br><span class="hljs-meta">$</span><span class="bash"> ls -l <span class="hljs-comment">#可以看到生成的符号链接</span></span><br></code></pre></td></tr></table></figure>

<p>文件路径要注意修改为自己的路径</p>
<h3 id="4-更改elf文件的ld和libc"><a href="#4-更改elf文件的ld和libc" class="headerlink" title="4.更改elf文件的ld和libc"></a>4.更改elf文件的ld和libc</h3><figure class="highlight shell"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br></pre></td><td class="code"><pre><code class="hljs shell"><span class="hljs-meta">$</span><span class="bash"> patchelf --set-interpreter /lib64/23_11-linux.so.2 ./chunk_extend_2</span><br><span class="hljs-meta">$</span><span class="bash"> patchelf --replace-needed libc.so.6 /home/pwn/桌面/tools/glibc-all-in_one/libs/2.23-0ubuntu11.2_amd64/libc-2.23.so ./chunk_extend_2</span><br><span class="hljs-meta">#</span><span class="bash">libc.so.6为需要替换的libc路径 第二个参数是需要加载的glibc的目录    chunk_extend_2 是二进制文件名</span><br><span class="hljs-meta">$</span><span class="bash"> ldd ./bin <span class="hljs-comment">#查看elf的ld和libc</span></span><br></code></pre></td></tr></table></figure>

<p>glibc-2.34及以上：</p>
<figure class="highlight sh"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br></pre></td><td class="code"><pre><code class="hljs sh"><span class="hljs-comment"># binary为你想运行的elf文件  第一个参数是ld.so的目录</span><br>patchelf --set-interpreter /home/shoucheng/tools/glibc-all-in-one/libs/2.36-0ubuntu4_amd64/ld-linux-x86-64.so.2 ./binary     <br><br><span class="hljs-comment"># 第一个参数是libc所在目录 binary你想运行的elf文件</span><br>patchelf --set-rpath  /home/shoucheng/tools/glibc-all-in-one/libs/2.36-0ubuntu4_amd64/ ./binary<br></code></pre></td></tr></table></figure>

<h3 id="我自己调试情况："><a href="#我自己调试情况：" class="headerlink" title="我自己调试情况："></a>我自己调试情况：</h3><p><img   class="lazyload" data-original="/2020/12/01/pwn%E5%B7%A5%E5%85%B7%E7%9A%84%E5%AE%89%E8%A3%85%E5%8F%8A%E4%BD%BF%E7%94%A8%E6%8C%87%E4%BB%A4/QQ%E5%9B%BE%E7%89%8720210418121652.png" src="data:image/gif;base64,iVBORw0KGgoAAAANSUhEUgAAAAEAAAABCAYAAAAfFcSJAAAADUlEQVQImWNgYGBgAAAABQABh6FO1AAAAABJRU5ErkJggg==" ></p>
<p>首先，这是还未更换的文件的ld和libc</p>
<p>当输入<code>patchelf --replace-needed libc.so.6 /home/shoucheng/glibc-all-in-one/libs/2.23-0ubuntu11.2_amd64/libc.so.6 1</code>时</p>
<p><img   class="lazyload" data-original="/2020/12/01/pwn%E5%B7%A5%E5%85%B7%E7%9A%84%E5%AE%89%E8%A3%85%E5%8F%8A%E4%BD%BF%E7%94%A8%E6%8C%87%E4%BB%A4/QQ%E5%9B%BE%E7%89%8720210418122225.png" src="data:image/gif;base64,iVBORw0KGgoAAAANSUhEUgAAAAEAAAABCAYAAAAfFcSJAAAADUlEQVQImWNgYGBgAAAABQABh6FO1AAAAABJRU5ErkJggg==" ></p>
<p>可以发现，libc.so.6的路径被更换了，换为了glibc-all-in-on目录下的libc.so.6，本来按照上面的来讲，总共是要两步的，先是更换链接器，然后改变libc路径。但是我直接去修改libc的路径，得到的结果是跟上述是一样的，已经完成了修改。</p>
<p><img   class="lazyload" data-original="/2020/12/01/pwn%E5%B7%A5%E5%85%B7%E7%9A%84%E5%AE%89%E8%A3%85%E5%8F%8A%E4%BD%BF%E7%94%A8%E6%8C%87%E4%BB%A4/QQ%E5%9B%BE%E7%89%8720210418122806.png" src="data:image/gif;base64,iVBORw0KGgoAAAANSUhEUgAAAAEAAAABCAYAAAAfFcSJAAAADUlEQVQImWNgYGBgAAAABQABh6FO1AAAAABJRU5ErkJggg==" ></p>
<p>去修改链接器，最终指向的仍然是<code>/lib64/ld-linux-x86-64.so.2</code> 并没有在本质上改变了什么</p>
<p>结论为：暂时不知道是因为什么，不过还是建议按上面步骤来</p>
<h2 id="seccomp-tools-工具"><a href="#seccomp-tools-工具" class="headerlink" title="seccomp-tools 工具"></a>seccomp-tools 工具</h2><p>可以<strong>seccomp-tools</strong>这个工具去查看禁用的系统调用</p>
<ul>
<li><p>安装：</p>
<figure class="highlight shell"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br></pre></td><td class="code"><pre><code class="hljs shell">sudo apt install gcc ruby-dev<br>sudo gem install seccomp-tools<br></code></pre></td></tr></table></figure></li>
<li><p>使用：一般用到dump这个用法，其他详细用法可见上面github。</p>
<figure class="highlight shell"><table><tr><td class="gutter"><pre><span class="line">1</span><br></pre></td><td class="code"><pre><code class="hljs shell">seccomp-tools dump ./xxx<br></code></pre></td></tr></table></figure></li>
</ul>
<h2 id="libc-database"><a href="#libc-database" class="headerlink" title="libc_database"></a>libc_database</h2><p>有一些PWN题故意不给libc文件，但是可以泄露地址，libc database可以利用泄露的地址来确定服务器使用的libc。</p>
<p>先下载libc database</p>
<figure class="highlight shell"><table><tr><td class="gutter"><pre><span class="line">1</span><br></pre></td><td class="code"><pre><code class="hljs shell">git clone https://github.com/niklasb/libc-database<br></code></pre></td></tr></table></figure>

<p>利用get来下载流行的libc库</p>
<figure class="highlight shell"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br></pre></td><td class="code"><pre><code class="hljs shell">cd libc-database<br>./get ubuntu<br></code></pre></td></tr></table></figure>

<p>程序会自动在ubuntu网站上下载相关的libc文件，存储到./db文件夹下</p>
<p>用法：使用./find可以在db中找到对应libc，如泄露的地址是printf 0xf7xxxx260 puts 0xf7xxxf30，输入最后三位即可</p>
<figure class="highlight shell"><table><tr><td class="gutter"><pre><span class="line">1</span><br></pre></td><td class="code"><pre><code class="hljs shell"><span class="hljs-meta">$</span><span class="bash"> ./find <span class="hljs-built_in">printf</span> 260 puts f30</span><br></code></pre></td></tr></table></figure>

<h2 id="z3"><a href="#z3" class="headerlink" title="z3"></a>z3</h2><figure class="highlight shell"><table><tr><td class="gutter"><pre><span class="line">1</span><br></pre></td><td class="code"><pre><code class="hljs shell"><span class="hljs-meta">$</span><span class="bash"> pip install z3-solver</span><br></code></pre></td></tr></table></figure>

<p>在python3上安装这个库即可，功能十分强大，可以在python中用这个库解决任何方程（只要有解）</p>
<h3 id="使用"><a href="#使用" class="headerlink" title="使用"></a>使用</h3><p>来源：<a target="_blank" rel="noopener" href="https://www.jianshu.com/p/64d87659673a">https://www.jianshu.com/p/64d87659673a</a></p>
<p>首先要给所有的变量设置一个类型，他有很多种类型，Int型他代表整数所有的解都只能是整数，当然也可以用Ints一次性设置多个变量</p>
<p><img   class="lazyload" data-original="/2020/12/01/pwn%E5%B7%A5%E5%85%B7%E7%9A%84%E5%AE%89%E8%A3%85%E5%8F%8A%E4%BD%BF%E7%94%A8%E6%8C%87%E4%BB%A4/webp" src="data:image/gif;base64,iVBORw0KGgoAAAANSUhEUgAAAAEAAAABCAYAAAAfFcSJAAAADUlEQVQImWNgYGBgAAAABQABh6FO1AAAAABJRU5ErkJggg==" ><span class="image-caption">img</span></p>
<p>还有就是Real型的这个代表的是有理数，可以解出所有的有理数</p>
<p><img   class="lazyload" data-original="/2020/12/01/pwn%E5%B7%A5%E5%85%B7%E7%9A%84%E5%AE%89%E8%A3%85%E5%8F%8A%E4%BD%BF%E7%94%A8%E6%8C%87%E4%BB%A4/2" src="data:image/gif;base64,iVBORw0KGgoAAAANSUhEUgAAAAEAAAABCAYAAAAfFcSJAAAADUlEQVQImWNgYGBgAAAABQABh6FO1AAAAABJRU5ErkJggg==" ><span class="image-caption">img</span></p>
<p>BitVec(‘a’ , 8)，用来进行位的运算与求解（第二个是指变量的位的个数）</p>
<p><img   class="lazyload" data-original="/2020/12/01/pwn%E5%B7%A5%E5%85%B7%E7%9A%84%E5%AE%89%E8%A3%85%E5%8F%8A%E4%BD%BF%E7%94%A8%E6%8C%87%E4%BB%A4/3" src="data:image/gif;base64,iVBORw0KGgoAAAANSUhEUgAAAAEAAAABCAYAAAAfFcSJAAAADUlEQVQImWNgYGBgAAAABQABh6FO1AAAAABJRU5ErkJggg==" ><span class="image-caption">img</span></p>
<p>首先是给变量赋值，设置一个解方程的类Solver，然后一个一个添加（这样比较直观），check一下看看有没有解，最后得出一个解，当然还有另外一种方法</p>
<p><img   class="lazyload" data-original="/2020/12/01/pwn%E5%B7%A5%E5%85%B7%E7%9A%84%E5%AE%89%E8%A3%85%E5%8F%8A%E4%BD%BF%E7%94%A8%E6%8C%87%E4%BB%A4/4" src="data:image/gif;base64,iVBORw0KGgoAAAANSUhEUgAAAAEAAAABCAYAAAAfFcSJAAAADUlEQVQImWNgYGBgAAAABQABh6FO1AAAAABJRU5ErkJggg==" ><span class="image-caption">img</span></p>
<p>直接用solve函数就可以了</p>
<p><img   class="lazyload" data-original="/2020/12/01/pwn%E5%B7%A5%E5%85%B7%E7%9A%84%E5%AE%89%E8%A3%85%E5%8F%8A%E4%BD%BF%E7%94%A8%E6%8C%87%E4%BB%A4/5" src="data:image/gif;base64,iVBORw0KGgoAAAANSUhEUgAAAAEAAAABCAYAAAAfFcSJAAAADUlEQVQImWNgYGBgAAAABQABh6FO1AAAAABJRU5ErkJggg==" ><span class="image-caption">img</span></p>
<h2 id="纯字符shellcode"><a href="#纯字符shellcode" class="headerlink" title="纯字符shellcode"></a>纯字符shellcode</h2><p>来源：</p>
<p><a target="_blank" rel="noopener" href="https://www.codenong.com/cs105236336/">https://www.codenong.com/cs105236336/</a></p>
<p><a target="_blank" rel="noopener" href="https://xz.aliyun.com/t/5662#toc-4">https://xz.aliyun.com/t/5662#toc-4</a></p>
<p><a target="_blank" rel="noopener" href="https://n0va-scy.github.io/2020/06/21/shellcode%E7%9A%84%E8%89%BA%E6%9C%AF/">https://n0va-scy.github.io/2020/06/21/shellcode%E7%9A%84%E8%89%BA%E6%9C%AF/</a></p>
<h3 id="可见字符能组成的汇编代码"><a href="#可见字符能组成的汇编代码" class="headerlink" title="可见字符能组成的汇编代码"></a>可见字符能组成的汇编代码</h3><figure class="highlight plaintext"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br><span class="line">16</span><br><span class="line">17</span><br><span class="line">18</span><br><span class="line">19</span><br><span class="line">20</span><br><span class="line">21</span><br><span class="line">22</span><br><span class="line">23</span><br><span class="line">24</span><br><span class="line">25</span><br><span class="line">26</span><br><span class="line">27</span><br><span class="line">28</span><br><span class="line">29</span><br><span class="line">30</span><br><span class="line">31</span><br><span class="line">32</span><br><span class="line">33</span><br><span class="line">34</span><br><span class="line">35</span><br><span class="line">36</span><br><span class="line">37</span><br><span class="line">38</span><br><span class="line">39</span><br><span class="line">40</span><br><span class="line">41</span><br><span class="line">42</span><br><span class="line">43</span><br><span class="line">44</span><br><span class="line">45</span><br><span class="line">46</span><br><span class="line">47</span><br><span class="line">48</span><br><span class="line">49</span><br><span class="line">50</span><br><span class="line">51</span><br><span class="line">52</span><br><span class="line">53</span><br><span class="line">54</span><br><span class="line">55</span><br><span class="line">56</span><br><span class="line">57</span><br><span class="line">58</span><br><span class="line">59</span><br><span class="line">60</span><br><span class="line">61</span><br><span class="line">62</span><br><span class="line">63</span><br><span class="line">64</span><br><span class="line">65</span><br><span class="line">66</span><br><span class="line">67</span><br><span class="line">68</span><br><span class="line">69</span><br></pre></td><td class="code"><pre><code class="hljs assembly">1.数据传送:<br>push/pop eax…<br>pusha/popa<br><br>2.算术运算:<br>inc/dec eax…<br>sub al, 立即数<br>sub byte ptr [eax… + 立即数], al dl…<br>sub byte ptr [eax… + 立即数], ah dh…<br>sub dword ptr [eax… + 立即数], esi edi<br>sub word ptr [eax… + 立即数], si di<br>sub al dl…, byte ptr [eax… + 立即数]<br>sub ah dh…, byte ptr [eax… + 立即数]<br>sub esi edi, dword ptr [eax… + 立即数]<br>sub si di, word ptr [eax… + 立即数]<br><br>3.逻辑运算:<br>and al, 立即数<br>and dword ptr [eax… + 立即数], esi edi<br>and word ptr [eax… + 立即数], si di<br>and ah dh…, byte ptr [ecx edx… + 立即数]<br>and esi edi, dword ptr [eax… + 立即数]<br>and si di, word ptr [eax… + 立即数]<br><br>xor al, 立即数<br>xor byte ptr [eax… + 立即数], al dl…<br>xor byte ptr [eax… + 立即数], ah dh…<br>xor dword ptr [eax… + 立即数], esi edi<br>xor word ptr [eax… + 立即数], si di<br>xor al dl…, byte ptr [eax… + 立即数]<br>xor ah dh…, byte ptr [eax… + 立即数]<br>xor esi edi, dword ptr [eax… + 立即数]<br>xor si di, word ptr [eax… + 立即数]<br><br>4.比较指令:<br>cmp al, 立即数<br>cmp byte ptr [eax… + 立即数], al dl…<br>cmp byte ptr [eax… + 立即数], ah dh…<br>cmp dword ptr [eax… + 立即数], esi edi<br>cmp word ptr [eax… + 立即数], si di<br>cmp al dl…, byte ptr [eax… + 立即数]<br>cmp ah dh…, byte ptr [eax… + 立即数]<br>cmp esi edi, dword ptr [eax… + 立即数]<br>cmp si di, word ptr [eax… + 立即数]<br><br>5.转移指令:<br>push 56h<br>pop eax<br>cmp al, 43h<br>jnz lable<br><br>&lt;=&gt; jmp lable<br><br>6.交换al, ah<br>push eax<br>xor ah, byte ptr [esp] // ah ^= al<br>xor byte ptr [esp], ah // al ^= ah<br>xor ah, byte ptr [esp] // ah ^= al<br>pop eax<br><br>7.清零:<br>push 44h<br>pop eax<br>sub al, 44h ; eax = 0<br><br>push esi<br>push esp<br>pop eax<br>xor [eax], esi ; esi = 0<br></code></pre></td></tr></table></figure>

<h3 id="msf内置的encoder"><a href="#msf内置的encoder" class="headerlink" title="msf内置的encoder"></a>msf内置的encoder</h3><h4 id="一、内置的shellcode"><a href="#一、内置的shellcode" class="headerlink" title="一、内置的shellcode"></a>一、内置的shellcode</h4><p>命令如下：</p>
<figure class="highlight shell"><table><tr><td class="gutter"><pre><span class="line">1</span><br></pre></td><td class="code"><pre><code class="hljs shell">msfvenom -a x86 --platform linux -p linux/x86/exec CMD=&quot;/bin/sh&quot; -e x86/alpha_upper BufferRegister=eax<br></code></pre></td></tr></table></figure>

<p>BufferRegister指的是指向shellcode的寄存器的值</p>
<h4 id="二、用msf编码自己写的shellcode"><a href="#二、用msf编码自己写的shellcode" class="headerlink" title="二、用msf编码自己写的shellcode"></a>二、用msf编码自己写的shellcode</h4><figure class="highlight shell"><table><tr><td class="gutter"><pre><span class="line">1</span><br></pre></td><td class="code"><pre><code class="hljs shell">cat shellcode | msfvenom -a x86 --platform linux -e x86/alpha_upper BufferRegister=eax<br></code></pre></td></tr></table></figure>

<h3 id="alpha3"><a href="#alpha3" class="headerlink" title="alpha3"></a>alpha3</h3><p>修改完之后还需要编译源码，但是编译源码的工具也在google上，如果懒得自己编译，可以直接下载大佬的修改版:</p>
<figure class="highlight shell"><table><tr><td class="gutter"><pre><span class="line">1</span><br></pre></td><td class="code"><pre><code class="hljs shell">git clone https://github.com/TaQini/alpha3.git<br></code></pre></td></tr></table></figure>

<p>之后输入以下命令：</p>
<p>x64：</p>
<figure class="highlight shell"><table><tr><td class="gutter"><pre><span class="line">1</span><br></pre></td><td class="code"><pre><code class="hljs shell">python ./ALPHA3.py x64 ascii mixedcase rax --input=&quot;shellcode&quot;<br></code></pre></td></tr></table></figure>

<p>rax是用于编码的寄存器(shellcode基址)，就是在执行shellcode时，借用跳转执行的寄存器，如call rax。就填入rax</p>
<p>x86：</p>
<figure class="highlight shell"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br></pre></td><td class="code"><pre><code class="hljs shell">python ./ALPHA3.py x86 ascii mixedcase eax --input=&quot;shellcode_x86&quot;<br>python ./ALPHA3.py x86 ascii lowercase eax --input=&quot;shellcode_x86&quot;<br>python ./ALPHA3.py x86 ascii uppercase eax --input=&quot;shellcode_x86&quot;<br></code></pre></td></tr></table></figure>

<p>mixedcase：数字+大小写字母；lowercase：数字+小写字母；uppercase：数字+大写字母。只有x86才有三种选项</p>
<p>寄存器同上</p>
<h3 id="AE64"><a href="#AE64" class="headerlink" title="AE64"></a>AE64</h3><p>AE64是杭电的一位大师傅写的工具，专用于生成64位的aplha shellcode</p>
<figure class="highlight shell"><table><tr><td class="gutter"><pre><span class="line">1</span><br></pre></td><td class="code"><pre><code class="hljs shell">git clone https://github.com/veritas501/ae64.git<br></code></pre></td></tr></table></figure>

<figure class="highlight shell"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br></pre></td><td class="code"><pre><code class="hljs shell">sudo python3 -m pip install keystone-engine<br>sudo python3 -m pip install z3-solver<br></code></pre></td></tr></table></figure>

<p>还需要安装以上的两个依赖</p>
<p><img   class="lazyload" data-original="/2020/12/01/pwn%E5%B7%A5%E5%85%B7%E7%9A%84%E5%AE%89%E8%A3%85%E5%8F%8A%E4%BD%BF%E7%94%A8%E6%8C%87%E4%BB%A4/56" src="data:image/gif;base64,iVBORw0KGgoAAAANSUhEUgAAAAEAAAABCAYAAAAfFcSJAAAADUlEQVQImWNgYGBgAAAABQABh6FO1AAAAABJRU5ErkJggg==" ><span class="image-caption">image-20211003154639933</span></p>
<p>如果出现上述情况，执行以下的命令</p>
<figure class="highlight shell"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br></pre></td><td class="code"><pre><code class="hljs shell">cd ae64<br>sudo cp ./ae64.py /lib/python3/dist-packages/ae64.py<br></code></pre></td></tr></table></figure>

<p>此外AE64是python写的，可以直接在python中调用，以下是例子</p>
<figure class="highlight python"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br></pre></td><td class="code"><pre><code class="hljs python"><span class="hljs-keyword">from</span> pwn <span class="hljs-keyword">import</span> *<br><span class="hljs-keyword">from</span> ae64 <span class="hljs-keyword">import</span> AE64<br><br>context.log_level = <span class="hljs-string">&#x27;debug&#x27;</span><br>context.arch = <span class="hljs-string">&#x27;amd64&#x27;</span><br><br>p = process(<span class="hljs-string">&#x27;./example1&#x27;</span>)<br><br>shellcode = AE64().encode(asm(shellcraft.sh()),<span class="hljs-string">&#x27;r13&#x27;</span>)<br><br>p.sendline(shellcode)<br><br>p.interactive()<br></code></pre></td></tr></table></figure>

<h3 id="可见字符对应的汇编代码"><a href="#可见字符对应的汇编代码" class="headerlink" title="可见字符对应的汇编代码"></a>可见字符对应的汇编代码</h3><table>
<thead>
<tr>
<th align="center">Opcode</th>
<th align="center">Char</th>
<th align="left">Instruction</th>
</tr>
</thead>
<tbody><tr>
<td align="center">20</td>
<td align="center"></td>
<td align="left"><code>AND [m8],r8</code></td>
</tr>
<tr>
<td align="center">21</td>
<td align="center">!</td>
<td align="left"><code>AND [m16/32/64],r16/32/64</code></td>
</tr>
<tr>
<td align="center">22</td>
<td align="center">“</td>
<td align="left"><code>AND r8,[m8]</code></td>
</tr>
<tr>
<td align="center">23</td>
<td align="center">#</td>
<td align="left"><code>AND r16/32/64,[m16/32/64]</code></td>
</tr>
<tr>
<td align="center">24</td>
<td align="center">$</td>
<td align="left"><code>AND AL,i8</code></td>
</tr>
<tr>
<td align="center">25</td>
<td align="center">%</td>
<td align="left"><code>AND AX/EAX/RAX,i16/32/64</code></td>
</tr>
<tr>
<td align="center">26</td>
<td align="center">&amp;</td>
<td align="left"><code>ES:</code> PREFIX</td>
</tr>
<tr>
<td align="center">27</td>
<td align="center">‘</td>
<td align="left"><em>Invalid</em></td>
</tr>
<tr>
<td align="center">28</td>
<td align="center">(</td>
<td align="left"><code>SUB [m8],r8</code></td>
</tr>
<tr>
<td align="center">29</td>
<td align="center">)</td>
<td align="left"><code>SUB [m16/32/64],r16/32/64</code> <em><a target="_blank" rel="noopener" href="https://web.archive.org/web/20110716082850/http://skypher.com/wiki/index.php/Hacking/Shellcode/Alphanumeric/x64_printable_opcodes#16-.2C_32-_or_64-bit_register.2Fmemory_values">*1</a></em></td>
</tr>
<tr>
<td align="center">2A</td>
<td align="center">*</td>
<td align="left"><code>SUB r8,[m8]</code></td>
</tr>
<tr>
<td align="center">2B</td>
<td align="center">+</td>
<td align="left"><code>SUB r16/32/64,[m16/32/64]</code> <em><a target="_blank" rel="noopener" href="https://web.archive.org/web/20110716082850/http://skypher.com/wiki/index.php/Hacking/Shellcode/Alphanumeric/x64_printable_opcodes#16-.2C_32-_or_64-bit_register.2Fmemory_values">*1</a></em></td>
</tr>
<tr>
<td align="center">2C</td>
<td align="center">,</td>
<td align="left"><code>SUB AL,i8</code></td>
</tr>
<tr>
<td align="center">2D</td>
<td align="center">-</td>
<td align="left"><code>SUB AX/EAX/RAX,i16/32/64</code> <em><a target="_blank" rel="noopener" href="https://web.archive.org/web/20110716082850/http://skypher.com/wiki/index.php/Hacking/Shellcode/Alphanumeric/x64_printable_opcodes#16-.2C_32-_or_64-bit_.2AAX.2Fimmediate_values">*2</a></em></td>
</tr>
<tr>
<td align="center">2E</td>
<td align="center">.</td>
<td align="left"><code>CS:</code> PREFIX</td>
</tr>
<tr>
<td align="center">2F</td>
<td align="center">/</td>
<td align="left"><em>Invalid</em></td>
</tr>
<tr>
<td align="center">30</td>
<td align="center">0</td>
<td align="left"><code>XOR [m8],r8</code></td>
</tr>
<tr>
<td align="center">31</td>
<td align="center">1</td>
<td align="left"><code>XOR [m16/32/64],r16/32/64</code></td>
</tr>
<tr>
<td align="center">32</td>
<td align="center">2</td>
<td align="left"><code>XOR r8,[m8]</code></td>
</tr>
<tr>
<td align="center">33</td>
<td align="center">3</td>
<td align="left"><code>XOR r16/32/64,[m16/32/64]</code></td>
</tr>
<tr>
<td align="center">34</td>
<td align="center">4</td>
<td align="left"><code>XOR AL, i8</code></td>
</tr>
<tr>
<td align="center">35</td>
<td align="center">5</td>
<td align="left"><code>XOR AX/EAX/RAX, i16/32/64</code></td>
</tr>
<tr>
<td align="center">36</td>
<td align="center">6</td>
<td align="left"><code>SS:</code> PREFIX</td>
</tr>
<tr>
<td align="center">37</td>
<td align="center">7</td>
<td align="left"><em>Invalid</em></td>
</tr>
<tr>
<td align="center">38</td>
<td align="center">8</td>
<td align="left"><code>CMP [m8],r8</code></td>
</tr>
<tr>
<td align="center">39</td>
<td align="center">9</td>
<td align="left"><code>CMP [m16/32/64],r16/32/64</code></td>
</tr>
<tr>
<td align="center">3A</td>
<td align="center">:</td>
<td align="left"><code>CMP r8,[m8]</code></td>
</tr>
<tr>
<td align="center">3B</td>
<td align="center">;</td>
<td align="left"><code>CMP r16/32/64,[m16/32/64]</code> *</td>
</tr>
<tr>
<td align="center">3C</td>
<td align="center">&lt;</td>
<td align="left"><code>CMP AL,i8</code></td>
</tr>
<tr>
<td align="center">3D</td>
<td align="center">=</td>
<td align="left"><code>CMP AX/EAX/RAX,i16/32/64</code> *</td>
</tr>
<tr>
<td align="center">3E</td>
<td align="center">&gt;</td>
<td align="left"><code>DS:</code> PREFIX</td>
</tr>
<tr>
<td align="center">3F</td>
<td align="center">?</td>
<td align="left"><em>Invalid</em></td>
</tr>
</tbody></table>
<table>
<thead>
<tr>
<th align="center">40</th>
<th align="center">@</th>
<th align="left">REX:<code>....</code></th>
</tr>
</thead>
<tbody><tr>
<td align="center">41</td>
<td align="center">A</td>
<td align="left">REX:<code>...B</code></td>
</tr>
<tr>
<td align="center">42</td>
<td align="center">B</td>
<td align="left">REX:<code>..X.</code></td>
</tr>
<tr>
<td align="center">43</td>
<td align="center">C</td>
<td align="left">REX:<code>..XB</code></td>
</tr>
<tr>
<td align="center">44</td>
<td align="center">D</td>
<td align="left">REX:<code>.R..</code></td>
</tr>
<tr>
<td align="center">45</td>
<td align="center">E</td>
<td align="left">REX:<code>.R.B</code></td>
</tr>
<tr>
<td align="center">46</td>
<td align="center">F</td>
<td align="left">REX:<code>.RX.</code></td>
</tr>
<tr>
<td align="center">47</td>
<td align="center">G</td>
<td align="left">REX:<code>.RXB</code></td>
</tr>
<tr>
<td align="center">48</td>
<td align="center">H</td>
<td align="left">REX:<code>W...</code></td>
</tr>
<tr>
<td align="center">49</td>
<td align="center">I</td>
<td align="left">REX:<code>W..B</code></td>
</tr>
<tr>
<td align="center">4A</td>
<td align="center">J</td>
<td align="left">REX:<code>W.X.</code></td>
</tr>
<tr>
<td align="center">4B</td>
<td align="center">K</td>
<td align="left">REX:<code>W.XB</code></td>
</tr>
<tr>
<td align="center">4C</td>
<td align="center">L</td>
<td align="left">REX:<code>WR..</code></td>
</tr>
<tr>
<td align="center">4D</td>
<td align="center">M</td>
<td align="left">REX:<code>WR.B</code></td>
</tr>
<tr>
<td align="center">4E</td>
<td align="center">N</td>
<td align="left">REX:<code>WRX.</code></td>
</tr>
<tr>
<td align="center">4F</td>
<td align="center">O</td>
<td align="left">REX:<code>WRXB</code></td>
</tr>
<tr>
<td align="center">50</td>
<td align="center">P</td>
<td align="left"><code>PUSH AX/RAX/R8</code> <em><a target="_blank" rel="noopener" href="https://web.archive.org/web/20110716082850/http://skypher.com/wiki/index.php/Hacking/Shellcode/Alphanumeric/x64_printable_opcodes#PUSH.2FPOP_Register">*3</a></em></td>
</tr>
<tr>
<td align="center">51</td>
<td align="center">Q</td>
<td align="left"><code>PUSH CX/RCX/R9</code> <em><a target="_blank" rel="noopener" href="https://web.archive.org/web/20110716082850/http://skypher.com/wiki/index.php/Hacking/Shellcode/Alphanumeric/x64_printable_opcodes#PUSH.2FPOP_Register">*3</a></em></td>
</tr>
<tr>
<td align="center">52</td>
<td align="center">R</td>
<td align="left"><code>PUSH DX/RDX/R10</code> <em><a target="_blank" rel="noopener" href="https://web.archive.org/web/20110716082850/http://skypher.com/wiki/index.php/Hacking/Shellcode/Alphanumeric/x64_printable_opcodes#PUSH.2FPOP_Register">*3</a></em></td>
</tr>
<tr>
<td align="center">53</td>
<td align="center">S</td>
<td align="left"><code>PUSH BX/RBX/R11</code> <em><a target="_blank" rel="noopener" href="https://web.archive.org/web/20110716082850/http://skypher.com/wiki/index.php/Hacking/Shellcode/Alphanumeric/x64_printable_opcodes#PUSH.2FPOP_Register">*3</a></em></td>
</tr>
<tr>
<td align="center">54</td>
<td align="center">T</td>
<td align="left"><code>PUSH SP/RSP/R12</code> <em><a target="_blank" rel="noopener" href="https://web.archive.org/web/20110716082850/http://skypher.com/wiki/index.php/Hacking/Shellcode/Alphanumeric/x64_printable_opcodes#PUSH.2FPOP_Register">*3</a></em></td>
</tr>
<tr>
<td align="center">55</td>
<td align="center">U</td>
<td align="left"><code>PUSH BP/RBP/R13</code> <em><a target="_blank" rel="noopener" href="https://web.archive.org/web/20110716082850/http://skypher.com/wiki/index.php/Hacking/Shellcode/Alphanumeric/x64_printable_opcodes#PUSH.2FPOP_Register">*3</a></em></td>
</tr>
<tr>
<td align="center">56</td>
<td align="center">V</td>
<td align="left"><code>PUSH SI/RSI/R14</code> <em><a target="_blank" rel="noopener" href="https://web.archive.org/web/20110716082850/http://skypher.com/wiki/index.php/Hacking/Shellcode/Alphanumeric/x64_printable_opcodes#PUSH.2FPOP_Register">*3</a></em></td>
</tr>
<tr>
<td align="center">57</td>
<td align="center">W</td>
<td align="left"><code>PUSH DI/RDI/R15</code> <em><a target="_blank" rel="noopener" href="https://web.archive.org/web/20110716082850/http://skypher.com/wiki/index.php/Hacking/Shellcode/Alphanumeric/x64_printable_opcodes#PUSH.2FPOP_Register">*3</a></em></td>
</tr>
<tr>
<td align="center">58</td>
<td align="center">X</td>
<td align="left"><code>POP AX/RAX/R8</code> <em><a target="_blank" rel="noopener" href="https://web.archive.org/web/20110716082850/http://skypher.com/wiki/index.php/Hacking/Shellcode/Alphanumeric/x64_printable_opcodes#PUSH.2FPOP_Register">*3</a></em></td>
</tr>
<tr>
<td align="center">59</td>
<td align="center">Y</td>
<td align="left"><code>POP CX/RCX/R9</code> <em><a target="_blank" rel="noopener" href="https://web.archive.org/web/20110716082850/http://skypher.com/wiki/index.php/Hacking/Shellcode/Alphanumeric/x64_printable_opcodes#PUSH.2FPOP_Register">*3</a></em></td>
</tr>
<tr>
<td align="center">5A</td>
<td align="center">Z</td>
<td align="left"><code>POP DX/RDX/R10</code> <em><a target="_blank" rel="noopener" href="https://web.archive.org/web/20110716082850/http://skypher.com/wiki/index.php/Hacking/Shellcode/Alphanumeric/x64_printable_opcodes#PUSH.2FPOP_Register">*3</a></em></td>
</tr>
<tr>
<td align="center">5B</td>
<td align="center">[</td>
<td align="left"><code>POP BX/RBX/R11</code> <em><a target="_blank" rel="noopener" href="https://web.archive.org/web/20110716082850/http://skypher.com/wiki/index.php/Hacking/Shellcode/Alphanumeric/x64_printable_opcodes#PUSH.2FPOP_Register">*3</a></em></td>
</tr>
<tr>
<td align="center">5C</td>
<td align="center">\</td>
<td align="left"><code>POP SP/RSP/R12</code> <em><a target="_blank" rel="noopener" href="https://web.archive.org/web/20110716082850/http://skypher.com/wiki/index.php/Hacking/Shellcode/Alphanumeric/x64_printable_opcodes#PUSH.2FPOP_Register">*3</a></em></td>
</tr>
<tr>
<td align="center">5D</td>
<td align="center">]</td>
<td align="left"><code>POP BP/RBP/R13</code> <em><a target="_blank" rel="noopener" href="https://web.archive.org/web/20110716082850/http://skypher.com/wiki/index.php/Hacking/Shellcode/Alphanumeric/x64_printable_opcodes#PUSH.2FPOP_Register">*3</a></em></td>
</tr>
<tr>
<td align="center">5E</td>
<td align="center">^</td>
<td align="left"><code>POP SI/RSI/R14</code> <em><a target="_blank" rel="noopener" href="https://web.archive.org/web/20110716082850/http://skypher.com/wiki/index.php/Hacking/Shellcode/Alphanumeric/x64_printable_opcodes#PUSH.2FPOP_Register">*3</a></em></td>
</tr>
<tr>
<td align="center">5F</td>
<td align="center">_</td>
<td align="left"><code>POP DI/RDI/R15</code> <em><a target="_blank" rel="noopener" href="https://web.archive.org/web/20110716082850/http://skypher.com/wiki/index.php/Hacking/Shellcode/Alphanumeric/x64_printable_opcodes#PUSH.2FPOP_Register">*3</a></em></td>
</tr>
</tbody></table>
<table>
<thead>
<tr>
<th>60</th>
<th>`</th>
<th><em>Invalid</em></th>
</tr>
</thead>
<tbody><tr>
<td>61</td>
<td>a</td>
<td><em>Invalid</em></td>
</tr>
<tr>
<td>62</td>
<td>b</td>
<td><em>Invalid</em></td>
</tr>
<tr>
<td>63</td>
<td>c</td>
<td><code>MOVSXD r64,[m32]</code> <em>(Zero extend)</em></td>
</tr>
<tr>
<td>66 63</td>
<td>fc</td>
<td><code>MOVSXD r64,[m16]</code> <em>(Zero extend)</em></td>
</tr>
<tr>
<td>48 63</td>
<td>Hc</td>
<td><code>MOVSXD r64,[m32]</code> <em>(Sign extend)</em></td>
</tr>
<tr>
<td>64</td>
<td>d</td>
<td><code>FS:</code> PREFIX</td>
</tr>
<tr>
<td>65</td>
<td>e</td>
<td><code>GS:</code> PREFIX</td>
</tr>
<tr>
<td>66</td>
<td>f</td>
<td>OPERAND SIZE OVERRIDE</td>
</tr>
<tr>
<td>67</td>
<td>g</td>
<td>ADDRESS SIZE OVERRIDE</td>
</tr>
<tr>
<td>68</td>
<td>h</td>
<td><code>PUSH i32</code> <em>(Sign extend to <a target="_blank" rel="noopener" href="https://web.archive.org/web/20110716082850/http://skypher.com/wiki/index.php?title=X64_alphanumeric_opcodes#i">i64</a>)</em> <em><a target="_blank" rel="noopener" href="https://web.archive.org/web/20110716082850/http://skypher.com/wiki/index.php/Hacking/Shellcode/Alphanumeric/x64_printable_opcodes#PUSH_immediate">*4</a></em></td>
</tr>
<tr>
<td>66 68</td>
<td>fh</td>
<td><code>PUSH i16</code> <em><a target="_blank" rel="noopener" href="https://web.archive.org/web/20110716082850/http://skypher.com/wiki/index.php/Hacking/Shellcode/Alphanumeric/x64_printable_opcodes#PUSH_immediate">*4</a></em></td>
</tr>
<tr>
<td>69</td>
<td>i</td>
<td><code>IMUL r32, [m32], i32</code></td>
</tr>
<tr>
<td>66 69</td>
<td>fi</td>
<td><code>IMUL r16, [m16], i16</code> <em>(<a target="_blank" rel="noopener" href="https://web.archive.org/web/20110716082850/http://skypher.com/wiki/index.php?title=X64_alphanumeric_opcodes#i">i16</a> not <a target="_blank" rel="noopener" href="https://web.archive.org/web/20110716082850/http://skypher.com/wiki/index.php?title=X64_alphanumeric_opcodes#i">i32</a>)</em></td>
</tr>
<tr>
<td>48 69</td>
<td>Hi</td>
<td><code>IMUL r64, [m64], i32</code></td>
</tr>
<tr>
<td>6A</td>
<td>j</td>
<td><code>PUSH i8</code></td>
</tr>
<tr>
<td>6B</td>
<td>k</td>
<td><code>IMUL r32, [m32], i8</code></td>
</tr>
<tr>
<td>66 6B</td>
<td>fk</td>
<td><code>IMUL r16, [m16], i8</code></td>
</tr>
<tr>
<td>48 6B</td>
<td>Hk</td>
<td><code>IMUL r64, [m64], i8</code></td>
</tr>
<tr>
<td>6C</td>
<td>l</td>
<td><code>INSB</code></td>
</tr>
<tr>
<td>6D</td>
<td>m</td>
<td><code>INSW</code>/<code>INSD</code>/<code>INSQ</code> <em><a target="_blank" rel="noopener" href="https://web.archive.org/web/20110716082850/http://skypher.com/wiki/index.php/Hacking/Shellcode/Alphanumeric/x64_printable_opcodes#INS.2FOUTS">*5</a></em></td>
</tr>
<tr>
<td>6E</td>
<td>n</td>
<td><code>OUTSB</code></td>
</tr>
<tr>
<td>6F</td>
<td>o</td>
<td><code>OUTSW</code>/<code>OUTSD</code>/<code>OUTSQ</code> <em><a target="_blank" rel="noopener" href="https://web.archive.org/web/20110716082850/http://skypher.com/wiki/index.php/Hacking/Shellcode/Alphanumeric/x64_printable_opcodes#INS.2FOUTS">*5</a></em></td>
</tr>
<tr>
<td>70</td>
<td>p</td>
<td><code>JO o8</code></td>
</tr>
<tr>
<td>71</td>
<td>q</td>
<td><code>JNO o8</code></td>
</tr>
<tr>
<td>72</td>
<td>r</td>
<td><code>JB o8</code></td>
</tr>
<tr>
<td>73</td>
<td>s</td>
<td><code>JAE o8</code></td>
</tr>
<tr>
<td>74</td>
<td>t</td>
<td><code>JE o8</code></td>
</tr>
<tr>
<td>75</td>
<td>u</td>
<td><code>JNE o8</code></td>
</tr>
<tr>
<td>76</td>
<td>v</td>
<td><code>JBE o8</code></td>
</tr>
<tr>
<td>77</td>
<td>w</td>
<td><code>JA o8</code></td>
</tr>
<tr>
<td>78</td>
<td>x</td>
<td><code>JS o8</code></td>
</tr>
<tr>
<td>79</td>
<td>y</td>
<td><code>JNS o8</code></td>
</tr>
<tr>
<td>7A</td>
<td>z</td>
<td><code>JP o8</code></td>
</tr>
<tr>
<td>7B</td>
<td>{</td>
<td><code>JPO o8</code></td>
</tr>
<tr>
<td>7C</td>
<td>|</td>
<td><code>JL o8</code></td>
</tr>
<tr>
<td>7D</td>
<td>}</td>
<td><code>JGE o8</code></td>
</tr>
<tr>
<td>7E</td>
<td>~</td>
<td><code>JLE o8</code></td>
</tr>
</tbody></table>
<h2 id="zsh以及常用插件"><a href="#zsh以及常用插件" class="headerlink" title="zsh以及常用插件"></a>zsh以及常用插件</h2><h3 id="安装和配置zsh"><a href="#安装和配置zsh" class="headerlink" title="安装和配置zsh"></a>安装和配置zsh</h3><ul>
<li>安装oh-my-zsh</li>
</ul>
<figure class="highlight shell"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br></pre></td><td class="code"><pre><code class="hljs shell">sudo apt install git zsh -y<br>sh -c &quot;$(wget -O- https://raw.githubusercontent.com/ohmyzsh/ohmyzsh/master/tools/install.sh)&quot;<br></code></pre></td></tr></table></figure>

<ul>
<li><p>更改默认shell为zsh</p>
<p><code>[sudo] chsh -s $(which zsh)</code></p>
</li>
</ul>
<p>或者</p>
<figure class="highlight sh"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br></pre></td><td class="code"><pre><code class="hljs sh">sudo apt install zsh -y<br>chsh -s /bin/zsh<br>git <span class="hljs-built_in">clone</span> https://github.com/robbyrussell/oh-my-zsh.git ~/.oh-my-zsh<br>git <span class="hljs-built_in">clone</span> https://github.com/zsh-users/zsh-autosuggestions ~/.oh-my-zsh/plugins/zsh-autosuggestions<br>cp ~/.oh-my-zsh/templates/zshrc.zsh-template ~/.zshrc<br>// 将 ~/.zshrc 中的 plugins=(git) 改为 plugins=(git zsh-autosuggestions)<br>reboot<br>// 如果 ~/.zshrc 的改动未生效，运行<br><span class="hljs-built_in">source</span> ~/.zshrc<br></code></pre></td></tr></table></figure>

<h3 id="安装常用插件"><a href="#安装常用插件" class="headerlink" title="安装常用插件"></a>安装常用插件</h3><ul>
<li>autojump</li>
</ul>
<figure class="highlight sh"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br></pre></td><td class="code"><pre><code class="hljs sh">sudo apt install python<br><span class="hljs-comment"># ------ linux -----</span><br>git <span class="hljs-built_in">clone</span> https://github.com/joelthelion/autojump.git<br><span class="hljs-built_in">cd</span> autojump<br>python3 ./install.py<br>vim ~/.zshrc<br><span class="hljs-comment"># 在文件里找到plugins，添加</span><br>plugins=(autojump)<br><span class="hljs-comment"># 在文件末尾添加</span><br>[[ -s /home/shoucheng/.autojump/etc/profile.d/autojump.sh ]] &amp;&amp; <span class="hljs-built_in">source</span> /home/shoucheng/.autojump/etc/profile.d/autojump.sh<br><span class="hljs-built_in">source</span> ~/.zshrc<br></code></pre></td></tr></table></figure>

<ul>
<li>zsh-autosuggestions</li>
</ul>
<figure class="highlight sh"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br></pre></td><td class="code"><pre><code class="hljs sh">git <span class="hljs-built_in">clone</span> https://github.com/zsh-users/zsh-autosuggestions <span class="hljs-variable">$&#123;ZSH_CUSTOM:-~/.oh-my-zsh&#125;</span>/plugins/zsh-autosuggestions<br>vim ~/.zshrc<br><span class="hljs-comment"># 在文件里找到plugins，添加</span><br>plugins=(<br>  autojump<br>  zsh-autosuggestions<br>)<br><span class="hljs-built_in">source</span> ~/.zshrc<br></code></pre></td></tr></table></figure>

<ul>
<li>zsh-syntax-highlighting</li>
</ul>
<figure class="highlight sh"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br></pre></td><td class="code"><pre><code class="hljs sh"><span class="hljs-comment"># 安装</span><br>git <span class="hljs-built_in">clone</span> https://github.com/zsh-users/zsh-syntax-highlighting.git <span class="hljs-variable">$&#123;ZSH_CUSTOM:-~/.oh-my-zsh&#125;</span>/plugins/zsh-syntax-highlighting<br>vim ~/.zshrc<br><span class="hljs-comment"># 在文件里找到plugins，添加</span><br>plugins=(<br>  autojump<br>  zsh-autosuggestions<br>  zsh-syntax-highlighting<br>)<br><span class="hljs-built_in">source</span> ~/.zshrc<br></code></pre></td></tr></table></figure>

<h2 id="docker"><a href="#docker" class="headerlink" title="docker"></a>docker</h2><p>首先，安装必要的证书并允许 apt 包管理器使用以下命令通过 HTTPS 使用存储库：</p>
<figure class="highlight sh"><table><tr><td class="gutter"><pre><span class="line">1</span><br></pre></td><td class="code"><pre><code class="hljs sh">$ sudo apt install apt-transport-https ca-certificates curl software-properties-common gnupg lsb-release<br></code></pre></td></tr></table></figure>

<p>然后，运行下列命令添加 Docker 的官方 GPG 密钥：</p>
<figure class="highlight sh"><table><tr><td class="gutter"><pre><span class="line">1</span><br></pre></td><td class="code"><pre><code class="hljs sh">$ curl -fsSL https://download.docker.com/linux/ubuntu/gpg | sudo gpg --dearmor -o /usr/share/keyrings/docker-archive-keyring.gpg<br></code></pre></td></tr></table></figure>

<p>添加 Docker 官方库：</p>
<figure class="highlight sh"><table><tr><td class="gutter"><pre><span class="line">1</span><br></pre></td><td class="code"><pre><code class="hljs sh"><svg xmlns:xlink="http://www.w3.org/1999/xlink" width="18.031ex" height="2.843ex" style="vertical-align: -0.838ex;" viewbox="0 -863.1 7763.3 1223.9" role="img" focusable="false" xmlns="http://www.w3.org/2000/svg" aria-labelledby="MathJax-SVG-1-Title">
<title id="MathJax-SVG-1-Title"> echo "deb [arch=</title>
<defs aria-hidden="true">
<path stroke-width="1" id="E1-MJMATHI-65" d="M39 168Q39 225 58 272T107 350T174 402T244 433T307 442H310Q355 442 388 420T421 355Q421 265 310 237Q261 224 176 223Q139 223 138 221Q138 219 132 186T125 128Q125 81 146 54T209 26T302 45T394 111Q403 121 406 121Q410 121 419 112T429 98T420 82T390 55T344 24T281 -1T205 -11Q126 -11 83 42T39 168ZM373 353Q367 405 305 405Q272 405 244 391T199 357T170 316T154 280T149 261Q149 260 169 260Q282 260 327 284T373 353Z"/>
<path stroke-width="1" id="E1-MJMATHI-63" d="M34 159Q34 268 120 355T306 442Q362 442 394 418T427 355Q427 326 408 306T360 285Q341 285 330 295T319 325T330 359T352 380T366 386H367Q367 388 361 392T340 400T306 404Q276 404 249 390Q228 381 206 359Q162 315 142 235T121 119Q121 73 147 50Q169 26 205 26H209Q321 26 394 111Q403 121 406 121Q410 121 419 112T429 98T420 83T391 55T346 25T282 0T202 -11Q127 -11 81 37T34 159Z"/>
<path stroke-width="1" id="E1-MJMATHI-68" d="M137 683Q138 683 209 688T282 694Q294 694 294 685Q294 674 258 534Q220 386 220 383Q220 381 227 388Q288 442 357 442Q411 442 444 415T478 336Q478 285 440 178T402 50Q403 36 407 31T422 26Q450 26 474 56T513 138Q516 149 519 151T535 153Q555 153 555 145Q555 144 551 130Q535 71 500 33Q466 -10 419 -10H414Q367 -10 346 17T325 74Q325 90 361 192T398 345Q398 404 354 404H349Q266 404 205 306L198 293L164 158Q132 28 127 16Q114 -11 83 -11Q69 -11 59 -2T48 16Q48 30 121 320L195 616Q195 629 188 632T149 637H128Q122 643 122 645T124 664Q129 683 137 683Z"/>
<path stroke-width="1" id="E1-MJMATHI-6F" d="M201 -11Q126 -11 80 38T34 156Q34 221 64 279T146 380Q222 441 301 441Q333 441 341 440Q354 437 367 433T402 417T438 387T464 338T476 268Q476 161 390 75T201 -11ZM121 120Q121 70 147 48T206 26Q250 26 289 58T351 142Q360 163 374 216T388 308Q388 352 370 375Q346 405 306 405Q243 405 195 347Q158 303 140 230T121 120Z"/>
<path stroke-width="1" id="E1-MJMAIN-22" d="M34 634Q34 659 50 676T93 694Q121 694 144 668T168 579Q168 525 146 476T101 403T73 379Q69 379 60 388T50 401Q50 404 62 417T88 448T116 500T131 572Q131 584 130 584T125 581T112 576T94 573Q69 573 52 590T34 634ZM238 634Q238 659 254 676T297 694Q325 694 348 668T372 579Q372 525 350 476T305 403T277 379Q273 379 264 388T254 401Q254 404 266 417T292 448T320 500T335 572Q335 584 334 584T329 581T316 576T298 573Q273 573 256 590T238 634Z"/>
<path stroke-width="1" id="E1-MJMATHI-64" d="M366 683Q367 683 438 688T511 694Q523 694 523 686Q523 679 450 384T375 83T374 68Q374 26 402 26Q411 27 422 35Q443 55 463 131Q469 151 473 152Q475 153 483 153H487H491Q506 153 506 145Q506 140 503 129Q490 79 473 48T445 8T417 -8Q409 -10 393 -10Q359 -10 336 5T306 36L300 51Q299 52 296 50Q294 48 292 46Q233 -10 172 -10Q117 -10 75 30T33 157Q33 205 53 255T101 341Q148 398 195 420T280 442Q336 442 364 400Q369 394 369 396Q370 400 396 505T424 616Q424 629 417 632T378 637H357Q351 643 351 645T353 664Q358 683 366 683ZM352 326Q329 405 277 405Q242 405 210 374T160 293Q131 214 119 129Q119 126 119 118T118 106Q118 61 136 44T179 26Q233 26 290 98L298 109L352 326Z"/>
<path stroke-width="1" id="E1-MJMATHI-62" d="M73 647Q73 657 77 670T89 683Q90 683 161 688T234 694Q246 694 246 685T212 542Q204 508 195 472T180 418L176 399Q176 396 182 402Q231 442 283 442Q345 442 383 396T422 280Q422 169 343 79T173 -11Q123 -11 82 27T40 150V159Q40 180 48 217T97 414Q147 611 147 623T109 637Q104 637 101 637H96Q86 637 83 637T76 640T73 647ZM336 325V331Q336 405 275 405Q258 405 240 397T207 376T181 352T163 330L157 322L136 236Q114 150 114 114Q114 66 138 42Q154 26 178 26Q211 26 245 58Q270 81 285 114T318 219Q336 291 336 325Z"/>
<path stroke-width="1" id="E1-MJMAIN-5B" d="M118 -250V750H255V710H158V-210H255V-250H118Z"/>
<path stroke-width="1" id="E1-MJMATHI-61" d="M33 157Q33 258 109 349T280 441Q331 441 370 392Q386 422 416 422Q429 422 439 414T449 394Q449 381 412 234T374 68Q374 43 381 35T402 26Q411 27 422 35Q443 55 463 131Q469 151 473 152Q475 153 483 153H487Q506 153 506 144Q506 138 501 117T481 63T449 13Q436 0 417 -8Q409 -10 393 -10Q359 -10 336 5T306 36L300 51Q299 52 296 50Q294 48 292 46Q233 -10 172 -10Q117 -10 75 30T33 157ZM351 328Q351 334 346 350T323 385T277 405Q242 405 210 374T160 293Q131 214 119 129Q119 126 119 118T118 106Q118 61 136 44T179 26Q217 26 254 59T298 110Q300 114 325 217T351 328Z"/>
<path stroke-width="1" id="E1-MJMATHI-72" d="M21 287Q22 290 23 295T28 317T38 348T53 381T73 411T99 433T132 442Q161 442 183 430T214 408T225 388Q227 382 228 382T236 389Q284 441 347 441H350Q398 441 422 400Q430 381 430 363Q430 333 417 315T391 292T366 288Q346 288 334 299T322 328Q322 376 378 392Q356 405 342 405Q286 405 239 331Q229 315 224 298T190 165Q156 25 151 16Q138 -11 108 -11Q95 -11 87 -5T76 7T74 17Q74 30 114 189T154 366Q154 405 128 405Q107 405 92 377T68 316T57 280Q55 278 41 278H27Q21 284 21 287Z"/>
<path stroke-width="1" id="E1-MJMAIN-3D" d="M56 347Q56 360 70 367H707Q722 359 722 347Q722 336 708 328L390 327H72Q56 332 56 347ZM56 153Q56 168 72 173H708Q722 163 722 153Q722 140 707 133H70Q56 140 56 153Z"/>
</defs>
<g stroke="currentColor" fill="currentColor" stroke-width="0" transform="matrix(1 0 0 -1 0 0)" aria-hidden="true">
 <use xlink:href="#E1-MJMATHI-65" x="0" y="0"/>
 <use xlink:href="#E1-MJMATHI-63" x="466" y="0"/>
 <use xlink:href="#E1-MJMATHI-68" x="900" y="0"/>
 <use xlink:href="#E1-MJMATHI-6F" x="1476" y="0"/>
 <use xlink:href="#E1-MJMAIN-22" x="2239" y="0"/>
 <use xlink:href="#E1-MJMATHI-64" x="3018" y="0"/>
 <use xlink:href="#E1-MJMATHI-65" x="3541" y="0"/>
 <use xlink:href="#E1-MJMATHI-62" x="4008" y="0"/>
 <use xlink:href="#E1-MJMAIN-5B" x="4437" y="0"/>
 <use xlink:href="#E1-MJMATHI-61" x="4716" y="0"/>
 <use xlink:href="#E1-MJMATHI-72" x="5245" y="0"/>
 <use xlink:href="#E1-MJMATHI-63" x="5697" y="0"/>
 <use xlink:href="#E1-MJMATHI-68" x="6130" y="0"/>
 <use xlink:href="#E1-MJMAIN-3D" x="6984" y="0"/>
</g>
</svg>(dpkg --print-architecture) signed-by=/usr/share/keyrings/docker-archive-keyring.gpg] https://download.docker.com/linux/ubuntu $(lsb_release -cs) stable<span class="hljs-string">&quot; | sudo tee /etc/apt/sources.list.d/docker.list &gt; /dev/null</span><br></code></pre></td></tr></table></figure>

<p>使用命令更新 Ubuntu 源列表：</p>
<figure class="highlight sh"><table><tr><td class="gutter"><pre><span class="line">1</span><br></pre></td><td class="code"><pre><code class="hljs sh">$ sudo apt update<br></code></pre></td></tr></table></figure>

<p>最后，运行下列命令在 Ubuntu 22.04 LTS 服务器中安装最新 Docker CE：</p>
<figure class="highlight sh"><table><tr><td class="gutter"><pre><span class="line">1</span><br></pre></td><td class="code"><pre><code class="hljs sh">$ sudo apt install docker-ce docker-ce-cli containerd.io docker-compose-plugin<br></code></pre></td></tr></table></figure>

      </section>
      <section class="extra">
        
          <ul class="copyright">
  
    <li><strong>本文作者：</strong>ShouCheng</li>
    <li><strong>本文链接：</strong><a href="http://shoucheng3.github.io/2020/12/01/pwn%E5%B7%A5%E5%85%B7%E7%9A%84%E5%AE%89%E8%A3%85%E5%8F%8A%E4%BD%BF%E7%94%A8%E6%8C%87%E4%BB%A4/index.html" title="http:&#x2F;&#x2F;shoucheng3.github.io&#x2F;2020&#x2F;12&#x2F;01&#x2F;pwn%E5%B7%A5%E5%85%B7%E7%9A%84%E5%AE%89%E8%A3%85%E5%8F%8A%E4%BD%BF%E7%94%A8%E6%8C%87%E4%BB%A4&#x2F;index.html">http:&#x2F;&#x2F;shoucheng3.github.io&#x2F;2020&#x2F;12&#x2F;01&#x2F;pwn%E5%B7%A5%E5%85%B7%E7%9A%84%E5%AE%89%E8%A3%85%E5%8F%8A%E4%BD%BF%E7%94%A8%E6%8C%87%E4%BB%A4&#x2F;index.html</a></li>
    <li><strong>版权声明：</strong>本博客所有文章均采用 <a href="https://creativecommons.org/licenses/by-nc-sa/4.0/deed.zh" title="BY-NC-SA" target="_blank" rel="noopener">BY-NC-SA</a> 许可协议，转载请注明出处！</li>
  
</ul>
        
        
        
  <ul class="tag-list" itemprop="keywords"><li class="tag-list-item"><a class="tag-list-link" href="/tags/pwn/" rel="tag">pwn</a></li></ul> 

        
  <nav class="nav">
    <a href="/2020/12/05/2020-12-05-%E6%A0%BC%E5%BC%8F%E5%8C%96%E5%AD%97%E7%AC%A6%E4%B8%B2%E6%BC%8F%E6%B4%9E/"><i class="iconfont iconleft"></i>格式化字符串漏洞</a>
    <a href="/2020/11/22/2020-11-22-%E6%A0%88%E6%BA%A2%E5%87%BA-%E8%A7%A3%E9%A2%98%E4%BA%8C%E4%B8%89%E4%BA%8B/">栈溢出--解题二三事<i class="iconfont iconright"></i></a>
  </nav>

      </section>
      
        <section class="comments">
  
    <div class="btn" id="comments-btn">查看评论</div>
  
  
</section>
      
    </section>
  </div>
</article></div>
      <div class="col-xl-3">
        
          
  <aside class="toc-wrap">
    <h3 class="toc-title">文章目录：</h3>
    <ol class="toc"><li class="toc-item toc-level-2"><a class="toc-link" href="#pwntools"><span class="toc-text">pwntools</span></a></li><li class="toc-item toc-level-2"><a class="toc-link" href="#LibcSearcher"><span class="toc-text">LibcSearcher</span></a></li><li class="toc-item toc-level-2"><a class="toc-link" href="#ROPgadget"><span class="toc-text">ROPgadget</span></a></li><li class="toc-item toc-level-2"><a class="toc-link" href="#gdb"><span class="toc-text">gdb</span></a><ol class="toc-child"><li class="toc-item toc-level-3"><a class="toc-link" href="#%E5%AE%89%E8%A3%85"><span class="toc-text">安装</span></a></li><li class="toc-item toc-level-3"><a class="toc-link" href="#1-%E7%94%A8%E9%80%94"><span class="toc-text">1. 用途</span></a></li><li class="toc-item toc-level-3"><a class="toc-link" href="#2-%E5%B8%B8%E7%94%A8%E6%8C%87%E4%BB%A4%EF%BC%9A"><span class="toc-text">2. 常用指令：</span></a></li><li class="toc-item toc-level-3"><a class="toc-link" href="#%E5%9F%BA%E6%9C%AC"><span class="toc-text">基本</span></a></li><li class="toc-item toc-level-3"><a class="toc-link" href="#%E6%98%BE%E7%A4%BA%E6%95%B0%E6%8D%AE"><span class="toc-text">显示数据</span></a></li></ol></li><li class="toc-item toc-level-2"><a class="toc-link" href="#pwntools-1"><span class="toc-text">pwntools</span></a><ol class="toc-child"><li class="toc-item toc-level-3"><a class="toc-link" href="#1-context%E8%AE%BE%E7%BD%AE"><span class="toc-text">1. context设置</span></a></li><li class="toc-item toc-level-3"><a class="toc-link" href="#2-Cyclic-Pattern"><span class="toc-text">2. Cyclic Pattern</span></a></li></ol></li><li class="toc-item toc-level-2"><a class="toc-link" href="#patchelf-amp-amp-glibc-all-in-one"><span class="toc-text">patchelf &amp;&amp; glibc-all-in-one</span></a><ol class="toc-child"><li class="toc-item toc-level-3"><a class="toc-link" href="#1-%E5%AE%89%E8%A3%85glibc-all-in-one"><span class="toc-text">1. 安装glibc-all-in-one</span></a></li><li class="toc-item toc-level-3"><a class="toc-link" href="#2-%E5%AE%89%E8%A3%85patchelf"><span class="toc-text">2. 安装patchelf</span></a></li><li class="toc-item toc-level-3"><a class="toc-link" href="#3-%E7%94%9F%E6%88%90%E6%89%80%E9%9C%80%E7%9A%84%E7%AC%A6%E5%8F%B7%E9%93%BE%E6%8E%A5"><span class="toc-text">3.生成所需的符号链接</span></a></li><li class="toc-item toc-level-3"><a class="toc-link" href="#4-%E6%9B%B4%E6%94%B9elf%E6%96%87%E4%BB%B6%E7%9A%84ld%E5%92%8Clibc"><span class="toc-text">4.更改elf文件的ld和libc</span></a></li><li class="toc-item toc-level-3"><a class="toc-link" href="#%E6%88%91%E8%87%AA%E5%B7%B1%E8%B0%83%E8%AF%95%E6%83%85%E5%86%B5%EF%BC%9A"><span class="toc-text">我自己调试情况：</span></a></li></ol></li><li class="toc-item toc-level-2"><a class="toc-link" href="#seccomp-tools-%E5%B7%A5%E5%85%B7"><span class="toc-text">seccomp-tools 工具</span></a></li><li class="toc-item toc-level-2"><a class="toc-link" href="#libc-database"><span class="toc-text">libc_database</span></a></li><li class="toc-item toc-level-2"><a class="toc-link" href="#z3"><span class="toc-text">z3</span></a><ol class="toc-child"><li class="toc-item toc-level-3"><a class="toc-link" href="#%E4%BD%BF%E7%94%A8"><span class="toc-text">使用</span></a></li></ol></li><li class="toc-item toc-level-2"><a class="toc-link" href="#%E7%BA%AF%E5%AD%97%E7%AC%A6shellcode"><span class="toc-text">纯字符shellcode</span></a><ol class="toc-child"><li class="toc-item toc-level-3"><a class="toc-link" href="#%E5%8F%AF%E8%A7%81%E5%AD%97%E7%AC%A6%E8%83%BD%E7%BB%84%E6%88%90%E7%9A%84%E6%B1%87%E7%BC%96%E4%BB%A3%E7%A0%81"><span class="toc-text">可见字符能组成的汇编代码</span></a></li><li class="toc-item toc-level-3"><a class="toc-link" href="#msf%E5%86%85%E7%BD%AE%E7%9A%84encoder"><span class="toc-text">msf内置的encoder</span></a></li><li class="toc-item toc-level-3"><a class="toc-link" href="#alpha3"><span class="toc-text">alpha3</span></a></li><li class="toc-item toc-level-3"><a class="toc-link" href="#AE64"><span class="toc-text">AE64</span></a></li><li class="toc-item toc-level-3"><a class="toc-link" href="#%E5%8F%AF%E8%A7%81%E5%AD%97%E7%AC%A6%E5%AF%B9%E5%BA%94%E7%9A%84%E6%B1%87%E7%BC%96%E4%BB%A3%E7%A0%81"><span class="toc-text">可见字符对应的汇编代码</span></a></li></ol></li><li class="toc-item toc-level-2"><a class="toc-link" href="#zsh%E4%BB%A5%E5%8F%8A%E5%B8%B8%E7%94%A8%E6%8F%92%E4%BB%B6"><span class="toc-text">zsh以及常用插件</span></a><ol class="toc-child"><li class="toc-item toc-level-3"><a class="toc-link" href="#%E5%AE%89%E8%A3%85%E5%92%8C%E9%85%8D%E7%BD%AEzsh"><span class="toc-text">安装和配置zsh</span></a></li><li class="toc-item toc-level-3"><a class="toc-link" href="#%E5%AE%89%E8%A3%85%E5%B8%B8%E7%94%A8%E6%8F%92%E4%BB%B6"><span class="toc-text">安装常用插件</span></a></li></ol></li><li class="toc-item toc-level-2"><a class="toc-link" href="#docker"><span class="toc-text">docker</span></a></li></ol>
  </aside>

        
      </div>
    </div>
  </div>
</main>
  

<footer class="footer">
  <div class="footer-social"><a 
        href="tencent://message/?Menu=yes&uin=1145020611 "
        target="_blank"
        class="footer-social-item"
        onMouseOver="this.style.color= '#12B7F5'" 
        onMouseOut="this.style.color='#33333D'">
          <i class="iconfont  iconQQ "></i>
      </a><a 
        href="javascript:; "
        target="_blank"
        class="footer-social-item"
        onMouseOver="this.style.color= '#09BB07'" 
        onMouseOut="this.style.color='#33333D'">
          <i class="iconfont  iconwechat-fill "></i>
      </a><a 
        href="https://www.instagram.com/izhaoo/ "
        target="_blank"
        class="footer-social-item"
        onMouseOver="this.style.color= '#DA2E76'" 
        onMouseOut="this.style.color='#33333D'">
          <i class="iconfont  iconinstagram "></i>
      </a><a 
        href="https://shoucheng3.github.io "
        target="_blank"
        class="footer-social-item"
        onMouseOver="this.style.color= '#9f7be1'" 
        onMouseOut="this.style.color='#33333D'">
          <i class="iconfont  icongithub-fill "></i>
      </a><a 
        href="mailto:1145020611@qq.com "
        target="_blank"
        class="footer-social-item"
        onMouseOver="this.style.color=#FF3B00" 
        onMouseOut="this.style.color='#33333D'">
          <i class="iconfont  iconmail"></i>
      </a></div>
  
    <div class="footer-copyright"><p>Powered by <a target="_blank" href="https://hexo.io">Hexo</a>  |  Theme - <a target="_blank" href="https://github.com/izhaoo/hexo-theme-zhaoo">zhaoo</a></p></div>
  
</footer>
  
      <div class="fab fab-plus">
    <i class="iconfont iconplus"></i>
  </div>
  
    <div class="fab fab-daovoice">
      <i class="iconfont iconcomment"></i>
    </div>
  
  
    <a href="https://support.qq.com/product/325288# app_id" target="_blank">
      <div class="fab fab-tencent-chao">
        <i class="iconfont iconcomment"></i>
      </div>
    </a>
  
  <div class="fab fab-up">
    <i class="iconfont iconcaret-up"></i>
  </div>
  
  
  
    
<script src="/js/color-mode.js"></script>

  
  
    <div class="search">
  <div class="search-container">
    <div class="search-close">
      <i class="iconfont iconbaseline-close-px"></i>
    </div>
    <div class="search-input-wrapper">
      <i class="search-input-icon iconfont iconsearch"></i>
      <input class="search-input" type="search" id="search-input" placeholder="Search..." autofocus autocomplete="off"
        autocorrect="off" autocapitalize="off">
    </div>
    <div class="search-output" id="search-output"></div>
  </div>
</div>
  
</body>

<script src="https://cdn.bootcss.com/jquery/3.4.1/jquery.min.js"></script>



  
<script src="https://cdn.bootcdn.net/ajax/libs/jquery.lazyload/1.9.1/jquery.lazyload.min.js"></script>




  
<script src="https://cdnjs.cloudflare.com/ajax/libs/fancybox/3.5.7/jquery.fancybox.min.js"></script>






  
<script src="https://cdn.bootcdn.net/ajax/libs/jquery.qrcode/1.0/jquery.qrcode.min.js"></script>




<script src="/js/utils.js"></script>
<script src="/js/script.js"></script>





  

<script>
  (function (i, s, o, g, r, a, m) {
    i["DaoVoiceObject"] = r;
    i[r] = i[r] || function () {
      (i[r].q = i[r].q || []).push(arguments)
    }, i[r].l = 1 * new Date();
    a = s.createElement(o), m = s.getElementsByTagName(o)[0];
    a.async = 1;
    a.src = g;
    a.charset = "utf-8";
    m.parentNode.insertBefore(a, m)
  })(window, document, "script", "https://widget.daovoice.io/widget/0f81ff2f.js", "daovoice")
  daovoice('init', {
    app_id: "3abd194f# app_id"
  }, {
    launcher: {
      disableLauncherIcon: true,
    },
  });
  daovoice('update');
</script>



  <script>
    (function () {
      var bp = document.createElement('script');
      var curProtocol = window.location.protocol.split(':')[0];
      if (curProtocol === 'https') {
        bp.src = 'https://zz.bdstatic.com/linksubmit/push.js';
      } else {
        bp.src = 'http://push.zhanzhang.baidu.com/push.js';
      }
      var s = document.getElementsByTagName("script")[0];
      s.parentNode.insertBefore(bp, s);
    })();
  </script>













</html>